let hideTimer,lastTop=0;function scrollToTop(e){e.stopPropagation(),document.querySelector("main").scrollIntoView({behavior:"smooth"})}function updateHeaderTop(){const e=document.querySelector(".app-header"),t=document.querySelector(".app-header-back-to-top");if(e&&window.innerWidth>960){e.style.removeProperty("top");return}if(!e||!t)return;requestAnimationFrame(()=>{const n=e.offsetHeight,s=t.offsetHeight,o=-n+s;e.style.top=`${o}px`})}window.addEventListener("load",updateHeaderTop),window.addEventListener("resize",updateHeaderTop),window.addEventListener("scroll",()=>{const e=document.querySelector(".app-header"),t=document.querySelector(".app-header-back-to-top");if(clearTimeout(hideTimer),e&&e.classList.remove("hidden"),window.innerWidth>960)return;if(!e||!t)return;const s=e.offsetHeight,o=t.offsetHeight,i=Math.round(-s+o),a=e.getBoundingClientRect(),n=Math.round(a.top);if(n>i){clearTimeout(hideTimer),lastTop=n,t.style.removeProperty("opacity");return}t.style.opacity="1.0",clearTimeout(hideTimer),hideTimer=setTimeout(()=>{e.classList.add("hidden")},1e3)})