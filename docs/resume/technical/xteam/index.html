<!doctype html><html lang=en-us><head><title>RIBlog - 🍷 XTeam</title><link rel="shortcut icon" href=../../../favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.150.1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="ribs"><meta name=description content><link rel=stylesheet href=../../../css/main.min.95d007093d7cd99490ff723a6854cbaecca47b637edc76390fd3fd9f919d6ef4.css><meta name=twitter:card content="summary"><meta name=twitter:title content="🍷 XTeam"><meta name=twitter:description content="Senior Frontend Engineer - React Native 📅 Sep 2022 - Jul 2023 CellarTracker Header🌲 Project Treemap CellarTracker Treemap🧱 Tech Stack Analytics: Mixpanel React Native Animations: Moti, Motify Interactions, React Native Reanimated Assets Files: Expo Asset, React Native Dynamic App Icon Auth: Expo Apple Authentication, Expo Auth Session, Expo Local Authentication Build Configuration: Copy Files From To, Expo Build Properties, Expo Dev Client, Patch Package, Postinstall Postinstall Camera: Expo Camera Charts: React Native Chart Kit, Victory Native Clipboard: React Native Clipboard Config Plugins: Config Plugins Detox, Config Plugins Dynamic App Icon Crypto: Expo Crypto Data: Apisauce, Axios Auth Refresh, Deepmerge, QS Dates: Date Fns Deployment: Expo Updates Device: Expo Application, Expo Constants, Expo Device, Expo Linear Gradient, Expo Linking, Expo Location, Expo Mail Composer, Expo Notifications, Expo Random, Expo Splash Screen, Expo Status Bar, Expo System UI, Expo Web Browser Feature Flags: Flagged Fonts Icons: Expo Fonts, Expo Google Fonts Arbutus Slab, Expo Google Fonts Inter, Expo Vector Icons, React Native Vector Icons Forms Validation: Formik, Hookform Resolvers, React Hook Form, React Native Formik, Yup Images: Expo Image, Expo Image Manipulator, Expo Image Picker Internationalization: Expo Localization, FormatJS Intl DateTimeFormat, FormatJS Intl GetCanonicalLocales, FormatJS Intl Locale, FormatJS Intl NumberFormat, FormatJS Intl PluralRules, Intl, React Intl JavaScript Framework: Expo, React, React Native Markup Parsing: BBob Plugin Helper, BBob Preset, BBob React, React Native Render HTML Media: Expo AV, Expo Barcode Scanner, Expo Media Library Monitoring: Reactotron React Native, Reactotron Redux, Redux Logger Navigation: React Navigation Bottom Sheet, React Navigation Bottom Tabs, React Navigation Drawer, React Navigation Elements, React Navigation Material Top Tabs, React Navigation Native, React Navigation Native Stack, React Navigation Stack Performance: Shopify FlashList Search: Diacritics, Fuse JS State Management: React Redux, Redux Persist, Redux Toolkit Storage: React Native Async Storage Styling: Gorhom Bottom Sheet, React Native Calendars, React Native Keyboard Aware Scroll View, React Native Masked View, React Native Multi Slider, React Native Pager View, React Native Paper, React Native Paper Dropdown, React Native Safe Area Context, React Native Screens, React Native Segmented Control, React Native Tab View Testing: Detox, Detox Recorder, Jest, Jest Expo, React Native Testing Library, React Test Renderer, Testing Library Jest DOM, Testing Library Jest Native, Testing Library React, Testing Library React Native, TS Jest TypeScript Linting: ESLint, ESLint Config Prettier, ESLint Plugin FormatJS, ESLint Plugin Prettier, TypeScript Web: React DOM, React Native Web 🌟 STAR Cases STAR Case - Performance Bottleneck Situation Before my involvement, the app was built only with a dozen hard-coded entries. This limited dataset masked scalability issues in the fetching and rendering logic. After I integrated the backend, the app received thousands of real bottle registries, and the existing implementation could not handle this scale, causing the app to freeze during feching, filtering, grouping, and searching."><meta property="og:url" content="/resume/technical/xteam/"><meta property="og:site_name" content="RIBlog"><meta property="og:title" content="🍷 XTeam"><meta property="og:description" content="Senior Frontend Engineer - React Native 📅 Sep 2022 - Jul 2023 CellarTracker Header🌲 Project Treemap CellarTracker Treemap🧱 Tech Stack Analytics: Mixpanel React Native Animations: Moti, Motify Interactions, React Native Reanimated Assets Files: Expo Asset, React Native Dynamic App Icon Auth: Expo Apple Authentication, Expo Auth Session, Expo Local Authentication Build Configuration: Copy Files From To, Expo Build Properties, Expo Dev Client, Patch Package, Postinstall Postinstall Camera: Expo Camera Charts: React Native Chart Kit, Victory Native Clipboard: React Native Clipboard Config Plugins: Config Plugins Detox, Config Plugins Dynamic App Icon Crypto: Expo Crypto Data: Apisauce, Axios Auth Refresh, Deepmerge, QS Dates: Date Fns Deployment: Expo Updates Device: Expo Application, Expo Constants, Expo Device, Expo Linear Gradient, Expo Linking, Expo Location, Expo Mail Composer, Expo Notifications, Expo Random, Expo Splash Screen, Expo Status Bar, Expo System UI, Expo Web Browser Feature Flags: Flagged Fonts Icons: Expo Fonts, Expo Google Fonts Arbutus Slab, Expo Google Fonts Inter, Expo Vector Icons, React Native Vector Icons Forms Validation: Formik, Hookform Resolvers, React Hook Form, React Native Formik, Yup Images: Expo Image, Expo Image Manipulator, Expo Image Picker Internationalization: Expo Localization, FormatJS Intl DateTimeFormat, FormatJS Intl GetCanonicalLocales, FormatJS Intl Locale, FormatJS Intl NumberFormat, FormatJS Intl PluralRules, Intl, React Intl JavaScript Framework: Expo, React, React Native Markup Parsing: BBob Plugin Helper, BBob Preset, BBob React, React Native Render HTML Media: Expo AV, Expo Barcode Scanner, Expo Media Library Monitoring: Reactotron React Native, Reactotron Redux, Redux Logger Navigation: React Navigation Bottom Sheet, React Navigation Bottom Tabs, React Navigation Drawer, React Navigation Elements, React Navigation Material Top Tabs, React Navigation Native, React Navigation Native Stack, React Navigation Stack Performance: Shopify FlashList Search: Diacritics, Fuse JS State Management: React Redux, Redux Persist, Redux Toolkit Storage: React Native Async Storage Styling: Gorhom Bottom Sheet, React Native Calendars, React Native Keyboard Aware Scroll View, React Native Masked View, React Native Multi Slider, React Native Pager View, React Native Paper, React Native Paper Dropdown, React Native Safe Area Context, React Native Screens, React Native Segmented Control, React Native Tab View Testing: Detox, Detox Recorder, Jest, Jest Expo, React Native Testing Library, React Test Renderer, Testing Library Jest DOM, Testing Library Jest Native, Testing Library React, Testing Library React Native, TS Jest TypeScript Linting: ESLint, ESLint Config Prettier, ESLint Plugin FormatJS, ESLint Plugin Prettier, TypeScript Web: React DOM, React Native Web 🌟 STAR Cases STAR Case - Performance Bottleneck Situation Before my involvement, the app was built only with a dozen hard-coded entries. This limited dataset masked scalability issues in the fetching and rendering logic. After I integrated the backend, the app received thousands of real bottle registries, and the existing implementation could not handle this scale, causing the app to freeze during feching, filtering, grouping, and searching."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="resume"><script src=../../../js/general.min.d126b83cb9d8859670e1bf5c137a8cfa929695f068f9ad9db54821594e9b2493.js integrity="sha256-0Sa4PLnYhZZw4b9cE3qM+pKWlfBo+a2dtUghWU6bJJM="></script></head><body style=background-image:url(../../../images/header1903-1268.webp)><div id=main><header class=app-header><a href=../../../><img class=app-header-avatar src=../../../images/ribs-big-green.webp alt=ribs></a>
<span class=app-header-title>RIBlog</span><nav class=app-header-menu><a class=app-header-menu-item href=../../../>Home</a>
-
<a class=app-header-menu-item href=../../../resume>Resumes</a></nav><p class=app-header-description>A sailor's logbook through the ocean of bytes and bugs</p><div class=app-header-social><a href=https://www.deviantart.com/ribas89 target=_blank rel="noreferrer noopener me"><svg class="icon icon-brand-deviantart" viewBox="0 0 24 24" fill="currentColor"><title>DeviantArt</title><path d="M19.207 4.794l.23-.43V0H15.07l-.436.44-2.058 3.925-.646.436H4.58v5.993h4.04l.36.436-4.175 7.98-.24.43V24H8.93l.436-.44 2.07-3.925.644-.436h7.35v-5.993h-4.05l-.36-.438 4.186-7.977z"/></svg>
</a><a href=https://github.com/ribas89 target=_blank rel="noreferrer noopener me"><svg class="icon icon-brand-github" viewBox="0 0 24 24" fill="currentColor"><title>GitHub</title><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
</a><a href=https://ko-fi.com/ribas89 target=_blank rel="noreferrer noopener me"><svg class="icon icon-brand-kofi" viewBox="0 0 24 24" fill="currentColor"><title>Ko-fi</title><path d="M23.881 8.948c-.773-4.085-4.859-4.593-4.859-4.593H.723c-.604.0-.679.798-.679.798s-.082 7.324-.022 11.822c.164 2.424 2.586 2.672 2.586 2.672s8.267-.023 11.966-.049c2.438-.426 2.683-2.566 2.658-3.734 4.352.24 7.422-2.831 6.649-6.916zm-11.062 3.511c-1.246 1.453-4.011 3.976-4.011 3.976s-.121.119-.31.023c-.076-.057-.108-.09-.108-.09-.443-.441-3.368-3.049-4.034-3.954-.709-.965-1.041-2.7-.091-3.71.951-1.01 3.005-1.086 4.363.407.0.0 1.565-1.782 3.468-.963 1.904.82 1.832 3.011.723 4.311zm6.173.478c-.928.116-1.682.028-1.682.028V7.284h1.77s1.971.551 1.971 2.638c0 1.913-.985 2.667-2.059 3.015z"/></svg>
</a><a href=https://www.linkedin.com/in/ribas89/ target=_blank rel="noreferrer noopener me"><svg class="icon icon-brand-linkedin" viewBox="0 0 24 24" fill="currentColor"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg>
</a><a href=mailto:ribas89@proton.me target=_blank rel="noreferrer noopener me"><svg class="icon icon-brand-protonmail" viewBox="0 0 24 24" fill="currentColor"><title>Proton Mail</title><path d="m15.24 8.998 3.656-3.073v15.81H2.482C1.11 21.735.0 20.609.0 19.223V6.944l7.58 6.38a2.186 2.186.0 002.871-.042l4.792-4.284h-.003zm-5.456 3.538 1.809-1.616a2.438 2.438.0 01-1.178-.533L.905 2.395A.552.552.0 000 2.826v2.811l8.226 6.923a1.186 1.186.0 001.558-.024zM23.871 2.463a.551.551.0 00-.776-.068l-3.199 2.688v16.653h1.623c1.371.0 2.481-1.127 2.481-2.513V2.824a.551.551.0 00-.129-.36z"/></svg></a></div><div class=app-header-footer><p class=app-header-build>build 2025-10-13 14:03:01</p><button onclick=scrollToTop(event) class=app-header-back-to-top><svg class="icon icon-chevron-up" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>chevron-up</title><polyline points="18 15 12 9 6 15"/></svg>back to top</button></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>🍷 XTeam</h1><div class=post-meta></div></header><div class=post-content><h3 id=senior-frontend-engineer---react-native--sep-2022---jul-2023>Senior Frontend Engineer - React Native 📅 Sep 2022 - Jul 2023</h3><p><figure><a href=../../../images/cellar-header.webp target=_blank rel="noopener noreferrer"><img src=../../../images/cellar-header.webp alt="CellarTracker Header" title="CellarTracker Header" aria-label="CellarTracker Header"></a><figcaption>CellarTracker Header</figcaption></figure></p><h1 id=cellar-project-treemap>🌲 Project Treemap</h1><p><figure><a href=../../../images/cellar-treemap.webp target=_blank rel="noopener noreferrer"><img src=../../../images/cellar-treemap.webp alt="CellarTracker Treemap" title="CellarTracker Treemap" aria-label="CellarTracker Treemap"></a><figcaption>CellarTracker Treemap</figcaption></figure></p><h1 id=cellar-tech-stack>🧱 Tech Stack</h1><ul><li><strong>Analytics:</strong> Mixpanel React Native</li><li><strong>Animations:</strong> Moti, Motify Interactions, React Native Reanimated</li><li><strong>Assets Files:</strong> Expo Asset, React Native Dynamic App Icon</li><li><strong>Auth:</strong> Expo Apple Authentication, Expo Auth Session, Expo Local Authentication</li><li><strong>Build Configuration:</strong> Copy Files From To, Expo Build Properties, Expo Dev Client, Patch Package, Postinstall Postinstall</li><li><strong>Camera:</strong> Expo Camera</li><li><strong>Charts:</strong> React Native Chart Kit, Victory Native</li><li><strong>Clipboard:</strong> React Native Clipboard</li><li><strong>Config Plugins:</strong> Config Plugins Detox, Config Plugins Dynamic App Icon</li><li><strong>Crypto:</strong> Expo Crypto</li><li><strong>Data:</strong> Apisauce, Axios Auth Refresh, Deepmerge, QS</li><li><strong>Dates:</strong> Date Fns</li><li><strong>Deployment:</strong> Expo Updates</li><li><strong>Device:</strong> Expo Application, Expo Constants, Expo Device, Expo Linear Gradient, Expo Linking, Expo Location, Expo Mail Composer, Expo Notifications, Expo Random, Expo Splash Screen, Expo Status Bar, Expo System UI, Expo Web Browser</li><li><strong>Feature Flags:</strong> Flagged</li><li><strong>Fonts Icons:</strong> Expo Fonts, Expo Google Fonts Arbutus Slab, Expo Google Fonts Inter, Expo Vector Icons, React Native Vector Icons</li><li><strong>Forms Validation:</strong> Formik, Hookform Resolvers, React Hook Form, React Native Formik, Yup</li><li><strong>Images:</strong> Expo Image, Expo Image Manipulator, Expo Image Picker</li><li><strong>Internationalization:</strong> Expo Localization, FormatJS Intl DateTimeFormat, FormatJS Intl GetCanonicalLocales, FormatJS Intl Locale, FormatJS Intl NumberFormat, FormatJS Intl PluralRules, Intl, React Intl</li><li><strong>JavaScript Framework:</strong> Expo, React, React Native</li><li><strong>Markup Parsing:</strong> BBob Plugin Helper, BBob Preset, BBob React, React Native Render HTML</li><li><strong>Media:</strong> Expo AV, Expo Barcode Scanner, Expo Media Library</li><li><strong>Monitoring:</strong> Reactotron React Native, Reactotron Redux, Redux Logger</li><li><strong>Navigation:</strong> React Navigation Bottom Sheet, React Navigation Bottom Tabs, React Navigation Drawer, React Navigation Elements, React Navigation Material Top Tabs, React Navigation Native, React Navigation Native Stack, React Navigation Stack</li><li><strong>Performance:</strong> Shopify FlashList</li><li><strong>Search:</strong> Diacritics, Fuse JS</li><li><strong>State Management:</strong> React Redux, Redux Persist, Redux Toolkit</li><li><strong>Storage:</strong> React Native Async Storage</li><li><strong>Styling:</strong> Gorhom Bottom Sheet, React Native Calendars, React Native Keyboard Aware Scroll View, React Native Masked View, React Native Multi Slider, React Native Pager View, React Native Paper, React Native Paper Dropdown, React Native Safe Area Context, React Native Screens, React Native Segmented Control, React Native Tab View</li><li><strong>Testing:</strong> Detox, Detox Recorder, Jest, Jest Expo, React Native Testing Library, React Test Renderer, Testing Library Jest DOM, Testing Library Jest Native, Testing Library React, Testing Library React Native, TS Jest</li><li><strong>TypeScript Linting:</strong> ESLint, ESLint Config Prettier, ESLint Plugin FormatJS, ESLint Plugin Prettier, TypeScript</li><li><strong>Web:</strong> React DOM, React Native Web</li></ul><h1 id=-star-cases>🌟 STAR Cases</h1><h2 id=star-case---performance-bottleneck>STAR Case - Performance Bottleneck</h2><h3 id=situation>Situation</h3><p><strong>Before my involvement</strong>, the app was built only with a <strong>dozen hard-coded entries</strong>. This limited dataset masked scalability issues in the fetching and rendering logic. After I integrated the backend, the app received <strong>thousands of real bottle registries</strong>, and the existing implementation could not handle this scale, causing the app to <strong>freeze during feching, filtering, grouping, and searching</strong>.</p><h3 id=task>Task</h3><p>Re-architect how the app <strong>handled large-scale data</strong> to:</p><ol><li>Build a <strong>modular and maintainable architecture</strong> for data and UI.</li><li>Enhance <strong>user experience with smooth navigation and search</strong>.</li><li>Ensure <strong>accurate results across all features</strong>.</li><li>Support <strong>thousands of records without freezing</strong>.</li></ol><h3 id=actions>Actions</h3><p>First I needed to <strong>guarantee</strong> the <strong>data</strong> was <strong>loaded quickly and accurately</strong>. For that <strong>I reviewed</strong> how <strong>the app</strong> was fetching and storing information <strong>and found</strong> <strong>deeply nested loops, duplicated logic and recalculations on every action</strong>. To <strong>reorganize the data</strong> fetching and storage flow, I <strong>created consistent patterns</strong> for how records were requested, saved and displayed. I also <strong>introduced a preloading logic</strong> that ensured data was available <strong>before the UI</strong> rendered. This <strong>eliminated</strong> unnecessary <strong>reload cycles</strong> and <strong>gave users</strong> a <strong>faster and smoother</strong> experience <strong>from cold boot</strong>.</p><p>After that I <strong>addressed the UI data rendering code</strong>. Many filtering and sorting elements <strong>were duplicated and inconsistent</strong> so I <strong>refactored</strong> them into <strong>reusable components</strong> which made the interface <strong>easier to maintain and extend</strong>. To improve the experience of browsing large inventories I <strong>introduced sectioned lists and infinite scroll</strong> which reduced rendering cost and <strong>gave users</strong> a smooth and <strong>responsive navigation</strong>.</p><p>Below is one of the optimizations I introduced to the selectors.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=color:#f92672>- export const selectCustomFilters = (...) =&gt; {
</span></span></span><span style=display:flex><span><span style=color:#f92672>-   ...
</span></span></span><span style=display:flex><span><span style=color:#f92672>-   return {
</span></span></span><span style=display:flex><span><span style=color:#f92672>-     locations: [
</span></span></span><span style=display:flex><span><span style=color:#f92672>-       ...new Set(
</span></span></span><span style=display:flex><span><span style=color:#f92672>-         cellar
</span></span></span><span style=display:flex><span><span style=color:#f92672>-           .map(i =&gt; {
</span></span></span><span style=display:flex><span><span style=color:#f92672>-             if (i.Holdings) {
</span></span></span><span style=display:flex><span><span style=color:#f92672>-               return i.Holdings.map(holding =&gt; {
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                 if (holding.Locations) {
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                   return holding?.Locations.map(k =&gt; {
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                     return k.Location;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                   });
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                 } else {
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                   return;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-                 }
</span></span></span><span style=display:flex><span><span style=color:#f92672>-               }).flat();
</span></span></span><span style=display:flex><span><span style=color:#f92672>-             }
</span></span></span><span style=display:flex><span><span style=color:#f92672>-             return;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-           })
</span></span></span><span style=display:flex><span><span style=color:#f92672>-           .flat()
</span></span></span><span style=display:flex><span><span style=color:#f92672>-           .filter(i =&gt; typeof i === &#39;string&#39;),
</span></span></span><span style=display:flex><span><span style=color:#f92672>-       ),
</span></span></span><span style=display:flex><span><span style=color:#f92672>-     ],
</span></span></span><span style=display:flex><span><span style=color:#f92672>-     ...
</span></span></span><span style=display:flex><span><span style=color:#f92672></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>+ const FilterPendingDataArray = (inCellarWines: InCellarWinePending[]) =&gt; {
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+   const resultData = {} as FilterObject&lt;PendingFilters&gt;;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+   inCellarWines?.forEach?.(wine =&gt; {
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+     const hasBottles = wine?.Purchases?.some?.(p =&gt; !!p?.Quantity);
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+     if (!hasBottles) return;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+     addNewFilterDataItem(resultData, &#39;appellation&#39;, wine?.Appellation);
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+     ...
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+     wine?.Purchases?.forEach(p =&gt; {
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+       if (!p?.Quantity) return;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+       addNewFilterDataItem(resultData, &#39;bottleSize&#39;, p?.Size);
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+     });
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+   });
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+   const { appellation, bottleSize, country, masterVarietal, region, subRegion, type } = resultData;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+   [appellation, bottleSize, country, masterVarietal, region, subRegion, type].forEach(a =&gt; a?.sort?.(sortStringAsc));
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+   const { vintage } = resultData;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+   [vintage].forEach(a =&gt; a?.sort?.(sortNumberAsc));
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+   return resultData;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+ };
</span></span></span></code></pre></div><h3 id=results>Results</h3><ol><li><strong>Better user experience</strong>: responsive infinite scrolling and grouped lists improved navigation.</li><li><strong>Fast search and filtering</strong>: thousands of entries could be queried without performance loss.</li><li><strong>Higher developer productivity</strong>: reusable, modular UI components reduced duplication.</li><li><strong>Scalable architecture</strong>: a foundation that supported new features and long-term growth.</li><li><strong>Smooth performance</strong>: large datasets became responsive and near-instant to operate on.</li></ol><h2 id=star-case---unstructured-backend-responses>STAR Case - Unstructured Backend Responses</h2><h3 id=situation-1>Situation</h3><p>After we managed to consistently <strong>recover thousands of entries</strong> across the app, the next challenge was <strong>the lack of a proper model</strong> to organize, sort, and feed data <strong>into the UI</strong>. The <strong>core issue</strong> was the <strong>same as before</strong>: the <strong>data model</strong> was <strong>partially incorrect and hardcoded</strong>. In addition, the <strong>backend did not provide</strong> a reliable way to <strong>validate its payloads</strong>, and in many cases <strong>critical fields were missing</strong>.</p><h3 id=task-1>Task</h3><p>Create a <strong>reliable way</strong> to handle the app&rsquo;s deeply nested and inconsistent <strong>backend data</strong> in order to:</p><ol><li>Enable users to <strong>quickly find and browse bottles</strong> with accurate results.</li><li>Ensure the model could <strong>scale to thousands of entries</strong> without breaking.</li><li>Establish a <strong>consistent foundation</strong> for filtering and search.</li><li><strong>Resolve</strong> issues caused by <strong>missing and unreliable fields</strong>.</li></ol><h3 id=actions-1>Actions</h3><p>To solve this I <strong>restructured</strong> the data handling <strong>into a graph-structured</strong> traversal model where each level of <strong>information</strong> (bottles, holdings, locations, bins) was treated as a <strong>connected node</strong>. This approach created a <strong>navigable structure</strong> where starting from a node like a <strong>location</strong> you could <strong>immediately find</strong> the <strong>bottles</strong> stored there and <strong>from those bottles</strong> trace back to <strong>their vintage</strong> or other attributes. This replaced <strong>scattered nested loops</strong> with a <strong>clear and predictable flow</strong>, making the model <strong>easier to maintain, extend, and scale</strong>.</p><p>This graph approach gave three major advantages:</p><ol><li><strong>Consistency</strong>: the same traversal logic powered cellar, pending, and consumed states, removing duplication and errors.</li><li><strong>Extensibility</strong>: adding a new filter meant only extending traversal rules for a node, not rewriting entire loops.</li><li><strong>Traversal clarity</strong>: instead of nested loops, each level of the data (wine → holding → location → bin) contributed in an organized way.</li></ol><p><figure><a href=../../../images/cellar-graph.webp target=_blank rel="noopener noreferrer"><img src=../../../images/cellar-graph.webp alt="Transversal graph model" title="Transversal graph model" aria-label="Transversal graph model"></a><figcaption>Transversal graph model</figcaption></figure></p><h3 id=results-1>Results</h3><ol><li><strong>Extensible filters</strong>: new filter types were added without breaking existing functionality.</li><li><strong>Faster and accurate search</strong>: browsing and filtering across thousands of entries became smooth and responsive.</li><li><strong>Maintainable data model</strong>: a graph-inspired approach organized unstructured responses into a predictable system.</li><li><strong>Reliable filtering</strong>: users could apply filters consistently even when backend data was incomplete.</li></ol><h2 id=star-case---missing-internationalization>STAR Case - Missing Internationalization</h2><h3 id=situation-2>Situation</h3><p>The app serves a <strong>global audience</strong> of wine collectors who expect <strong>multiple language support</strong>. While there were some <strong>early attempts at internationalization</strong>, the application was <strong>inconsistent and incomplete</strong>. Many components still relied on <strong>hardcoded English strings</strong> for filters, chips, dropdowns, and error messages. This incomplete approach made the UI feel <strong>disjointed and awkward</strong>, blocking <strong>full localization</strong> and <strong>limiting</strong> the app&rsquo;s ability to deliver a <strong>scalable, accessible international experience</strong>.</p><h3 id=task-2>Task</h3><p><strong>Establish</strong> a consistent internationalization <strong>pattern</strong> to:</p><ol><li>Create a <strong>scalable i18n foundation</strong> that developers could apply uniformly across the app.</li><li>Ensure UI elements like filters, chips, and dialogs were <strong>fully translation-ready</strong>.</li><li>Fix prior inconsistencies and enable a <strong>seamless multilingual experience</strong> for end users.</li><li><strong>Replace</strong> remaining <strong>hardcoded strings</strong> with localized messages.</li></ol><h3 id=actions-2>Actions</h3><p>I refactored the application to use a <strong>consistent internationalization pattern</strong>, replacing static strings with translated messages across components. To simplify adoption, I created hooks to make it easy to pull translations into any new component.</p><p>Below is the hook I introduced, which <strong>encapsulated the logic</strong> for pulling translation messages, formatting them with <strong>react-intl</strong>, and wiring them into <strong>navigation flows</strong>. This removed duplication and made internationalization extensible across filters, chips, bottom sheets, and dropdowns:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#66d9ef>import</span> {<span style=color:#a6e22e>useNavigation</span>, <span style=color:#a6e22e>useRoute</span>} <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@react-navigation/native&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> {<span style=color:#a6e22e>useIntl</span>} <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;react-intl&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> {<span style=color:#a6e22e>useEffect</span>, <span style=color:#a6e22e>useRef</span>} <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>useEventActionSheet</span> <span style=color:#f92672>=</span> ({<span style=color:#a6e22e>messages</span>, <span style=color:#a6e22e>title</span>, <span style=color:#a6e22e>params</span>, <span style=color:#a6e22e>onSelect</span>}) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>route</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRoute</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> {<span style=color:#a6e22e>formatMessage</span>} <span style=color:#f92672>=</span> <span style=color:#a6e22e>useIntl</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>navigation</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useNavigation</span>();
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>useEffect</span>(() <span style=color:#f92672>=&gt;</span> {...}, [<span style=color:#a6e22e>route</span><span style=color:#f92672>?</span>.<span style=color:#a6e22e>params</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>openSheet</span> <span style=color:#f92672>=</span> () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>options</span> <span style=color:#f92672>=</span> Object.<span style=color:#a6e22e>keys</span>(<span style=color:#a6e22e>messages</span>).<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>key</span> <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>message</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>messages</span>[<span style=color:#a6e22e>key</span>];
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>label</span>: <span style=color:#66d9ef>formatMessage</span>(<span style=color:#a6e22e>message</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>value</span>: <span style=color:#66d9ef>message.value</span>,
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>navigation</span>.<span style=color:#a6e22e>navigate</span>(<span style=color:#e6db74>&#39;EventActionSheet&#39;</span>, {...});
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> [<span style=color:#a6e22e>openSheet</span>];
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>useEventActionSheet</span>;
</span></span></code></pre></div><h3 id=results-2>Results</h3><ol><li><strong>Broader international reach</strong>: multilingual support prepared the app to serve a global user base effectively.</li><li><strong>Consistent user interface</strong>: standardized messaging eliminated awkward or disjointed UI patterns.</li><li><strong>Faster development workflows</strong>: developers could add new components with built-in i18n support and less duplication.</li><li><strong>Scalable i18n foundation</strong>: reusable hooks centralized logic and ensured consistent adoption across the app.</li><li><strong>Translation-ready UI</strong>: all hardcoded strings were removed and replaced with localized messages.</li></ol></div><div class=post-footer></div></article></main></div></body></html>